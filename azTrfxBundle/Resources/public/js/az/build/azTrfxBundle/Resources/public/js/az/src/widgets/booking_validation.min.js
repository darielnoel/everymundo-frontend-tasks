var Trfx=Trfx||{};Trfx.BookingValidation=function(a,b){function c(){}function d(){$("#booking_form").on("submit",function(){if(g("AirportFrom","AirportTo","Adults","Infants"))return!1;else return void 0})}function e(){window.WebForm_OnSubmit=f}function f(){if("function"==typeof h&&0==h())return!1;else return!0}function g(a,b,c,d){$("#errors_list").remove();$("#booking_form .validation_error").removeClass("validation_error");var e=!1;var f=new Array;var g=parseInt($("#traveles_number").text());if(!$("#"+a)||""==$("#"+a).val()){e=!0;f.push("Departure Airport Required");$("#s2id1").addClass("validation_error")}if(!$("#"+b)||""==$("#"+b).val()){e=!0;f.push("Arrival Airport Required");$("#s2id2").addClass("validation_error")}if(g>9){e=!0;f.push("Too many travelers have been selected, the maximum allowed is 9");$(".traveler").addClass("validation_error")}if($("#"+d).val()>$("#"+c).val()){e=!0;f.push("The number of infants must not be higher than the number of adults");$(".traveler").addClass("validation_error")}if(""!=$("#"+a).val()&&""!=$("#"+b).val()&&$("#"+a).val()===$("#"+b).val()){e=!0;f.push("Select a diferent destination");$("#s2id1").addClass("validation_error")}if(e&&f.length>0){var h="";$(f).each(function(a,b){h+="<div><i class='fa fa-exclamation-circle'></i><span style='margin-left: 5px;'>"+b+"</span></div>"});$("#booking_form").append("<div id='errors_list'>"+h+"</div>")}return e}function h(){if(ValidateBookMyTrip("AirportFrom","AirportTo","adults","infants"))return!1;var a=document.forms.booking_form;if(!a)a=document.booking_form;var b=$("#Checkbox").val();var c=$("#AirportFrom").val();if(""==c)return!1;var d=$("#AirportTo").val();if(""==d)return!1;var e=$("#DateDeparture").datepicker("getDate");var f=$("#DateReturn").datepicker("getDate");var g=$.datepicker.formatDate("yy-mm-dd",e);var h=$.datepicker.formatDate("yy-mm-dd",f);var i=$("#promo_code").val();var j=$("#travel_class").val();if(""==g)return!1;if(""==h&&"RT"==b)return!1;var k=$("#adults").val();var l=$("#Children").val();var m=$("#infants").val();var n=$("#site_edition").val();var o="";o+="http://booking.alitalia.com/Booking/"+n+"/Flight/Search?";o+="SearchType="+b;o+="&Origin="+c;o+="&Destination="+d;o+="&DepartureDate="+g;if("RT"==b)o+="&ReturnDate="+h;o+="&Adults="+k;o+="&Children="+l;o+="&Infants="+m}a.init=function(){c();d();e()};a.init();return a}(Trfx.BookingValidation||{},{});