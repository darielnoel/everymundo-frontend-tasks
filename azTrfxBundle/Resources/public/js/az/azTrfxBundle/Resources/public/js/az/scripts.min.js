function WebForm_OnSubmit(){return"function"==typeof validateBookFlight&&0==validateBookFlight()?!1:!0}function pad(a,b){return a=a.toString(),a.length<b?pad("0"+a,b):a}function ValidateBookMyTrip(a,b,c,d){$("#errors_list").remove(),$("#booking_form .validation_error").removeClass("validation_error");var e=!1,f=new Array,g=parseInt($("#traveles_number").text());if($("#"+a)&&""!=$("#"+a).val()||(e=!0,f.push("Departure Airport Required"),$("#s2id1").addClass("validation_error")),$("#"+b)&&""!=$("#"+b).val()||(e=!0,f.push("Arrival Airport Required"),$("#s2id2").addClass("validation_error")),g>9&&(e=!0,f.push("Too many travelers have been selected, the maximum allowed is 9"),$(".traveler").addClass("validation_error")),$("#"+d).val()>$("#"+c).val()&&(e=!0,f.push("The number of infants must not be higher than the number of adults"),$(".traveler").addClass("validation_error")),""!=$("#"+a).val()&&""!=$("#"+b).val()&&$("#"+a).val()===$("#"+b).val()&&(e=!0,f.push("Select a diferent destination"),$("#s2id1").addClass("validation_error")),e&&f.length>0){var h="";$(f).each(function(a,b){h+="<div><i class='fa fa-exclamation-circle'></i><span style='margin-left: 5px;'>"+b+"</span></div>"}),$("#booking_form").append("<div id='errors_list'>"+h+"</div>")}return e}function validateBookFlight(){if(ValidateBookMyTrip("AirportFrom","AirportTo","adults","infants"))return!1;var a=document.forms.booking_form;a||(a=document.booking_form);var b=$("#Checkbox").val(),c=$("#AirportFrom").val();if(""==c)return!1;var d=$("#AirportTo").val();if(""==d)return!1;var e=$("#DateDeparture").datepicker("getDate"),f=$("#DateReturn").datepicker("getDate"),g=$.datepicker.formatDate("yy-mm-dd",e),h=$.datepicker.formatDate("yy-mm-dd",f);$("#promo_code").val(),$("#travel_class").val();if(""==g)return!1;if(""==h&&"RT"==b)return!1;var i=$("#adults").val(),j=$("#Children").val(),k=$("#infants").val(),l=$("#site_edition").val(),m="";m+="http://booking.alitalia.com/Booking/"+l+"/Flight/Search?",m+="SearchType="+b,m+="&Origin="+c,m+="&Destination="+d,m+="&DepartureDate="+g,"RT"==b&&(m+="&ReturnDate="+h),m+="&Adults="+i,m+="&Children="+j,m+="&Infants="+k}var TrfxApp={helpers:{}};TrfxApp.init=function(){TrfxApp.renderUI(),TrfxApp.bindUI(),TrfxApp.syncUI()},TrfxApp.renderUI=function(){TrfxApp.helpers.renderSelectTravelers()},TrfxApp.bindUI=function(){$(".m-hamburger-button").on("click",function(a){TrfxApp.helpers.toggleMenuAction(a)}),$("html").click(function(a){$(".m-hamburger-navigation-content").hasClass("opened")&&TrfxApp.helpers.toggleMenuAction(a)}),$(".m-hamburger-navigation-content").click(function(a){a.stopPropagation()});var a;$("#origin_airport, #destination_airport").click(function(){var b=$(".step-two");b.hasClass("opened")||(b.addClass("opened"),a=b.parent().css("padding-bottom"),b.parent().css("padding-bottom",0),b.fadeIn(),$(".close-step-two").show())}),$(".close-step-two span").click(function(){var b=$(".step-two");b.hasClass("opened")&&(b.removeClass("opened"),$(".close-step-two").hide(),b.hide(),b.parent().css("padding-bottom",a))}),TrfxApp.helpers.openMenuItemAction()},TrfxApp.syncUI=function(){},TrfxApp.helpers.renderSelectTravelers=function(){var a={minimumResultsForSearch:1/0};$("#Adults").select2(a),$("#Children").select2(a),$("#Infants").select2(a)},TrfxApp.helpers.toggleMenuAction=function(a){a.stopPropagation();var b=$(".m-hamburger-navigation-content"),c=b.children("ul");$(c[0]).hasClass("secondary")&&$(c[1]).after($(c[0])),$(".m-hamburger-button").toggleClass("open"),$(".m-hamburger-navigation-content").toggleClass("opened"),$("body").toggleClass("h-overflow-hidden"),$(".m-loading-screen").toggleClass("show")},TrfxApp.helpers.openMenuItemAction=function(){var a=$(".m-hamburger-navigation-content");$(".main > li").hover(function(){a.hasClass("opened")||$(this).find("ul").show()},function(){a.hasClass("opened")||$(this).find("ul").hide()}),$(".main > li").click(function(a){a.stopPropagation();var b=$(this),c=$(this).data("active"),d=$(".main > li");d.each(function(a){var b=$(this);b.data("active")&&(b.find(".fa").css("transform","rotate(0deg)"),b.find("ul").slideUp(),b.data("active",!1),b.css("color","white"))}),void 0===c&&(c=!1),c?(b.css("color","white"),b.find(".fa").css("transform","rotate(0deg)"),c=!1,$(this).find("ul").slideUp()):(b.css("color","#27aae1"),b.find(".fa").css("transform","rotate(180deg)"),c=!0,$(this).find("ul").slideDown()),$(this).data("active",c)})},TrfxApp.init();var resources=resources||{datepicker:{dateFormat:"dd/mm/yy"}};$(function(){var a=resources.datepicker.dateFormat.toUpperCase()+"YY",b=moment();b.add("1 week"),$("#DateDeparture").val(b.format(a)),b.add("1 week"),$("#DateReturn").val(b.format(a))}),$("#Infants").on("change",function(){$("#newborn_number").val($(this).val())}),$("#Children").on("change",function(){$("#children_number").val($(this).val())}),$("#booking_form").on("submit",function(){return ValidateBookMyTrip("AirportFrom","AirportTo","Adults","Infants")?!1:void 0}),$(".traveler").click(function(a){a.stopPropagation(),$(".wrap").toggleClass("show")}),$(".promotioncode").click(function(){$(".extras").toggleClass("show")}),$(".wrap").click(function(a){a.stopPropagation()}),$("html").click(function(){$(".wrap.show").removeClass("show")}),$(".officesexpand").click(function(a){a.stopPropagation(),$("#offices").toggleClass("expand")}),$("#navMain > li").hover(function(){$(this).find(".navSection").show()},function(){$(this).find(".navSection").hide()}),$(".sub-container").hover(function(){$(this).find(".sub").show()},function(){$(this).find(".sub").hide()}),$(".sub-container").each(function(){$(this).children().find("li").length||$(this).children("a").css("background","transparent")}),$(".wrap select").change(function(){var a=0;$(".wrap select").not("#travel_class").each(function(){a+=parseInt($(this).val())}),$("#traveles_number").text(a);var b=$("#travel_class").find(":selected").text();$("#traveles_class").text(", "+b),a>1?($("#travelers").show(),$("#traveler").hide()):($("#travelers").hide(),$("#traveler").show())}),$(".country_filter_btn").click(function(){var a=$(this).siblings(".country-filter").find("option:selected").attr("data-url");$(this).parent().attr("action",a),$(this).parent().attr("method","POST"),$(this).parent().submit()}),$("#AirportFrom").length&&$("#AirportTo").length&&($("#AirportFrom").select2(),$("#AirportTo").select2()),$("#AirportFrom").change(function(){$("#loading").show();var a=new FormData;a.append("AirportFrom",$("#AirportFrom").val()),a.append("lang",$("#language_name").val()),a.append("site_edition",$("#site_edition").val()),a.append("airline_identifier",$("#airline_identifier").val()),a.append("selected_destination_airport",$("#AirportTo").val()),$.ajax({type:"POST",url:$("#AirportFrom").attr("data-widget_change_url"),contentType:!1,processData:!1,type:"POST",script:!0,cache:!1,data:a,success:function(a){$("#destination_airport").html(a),$("#loading").hide()}})}),$("#DateDeparture").datepicker({minDate:0,onSelect:function(a){var b=moment($("#DateDeparture").datepicker("getDate"));b.add(7,"days"),$("#DateReturn").datepicker("option","minDate",b.toDate())},defaultDate:7,autoSize:!0,dateFormat:resources.datepicker.dateFormat}),$("#DateReturn").datepicker({minDate:0,onSelect:function(a){$("#DateDeparture").datepicker("option","maxDate",a)},defaultDate:7,autoSize:!0,dateFormat:resources.datepicker.dateFormat}),$("input[name='SearchType']").click(function(){"BrandSearchOneWay"!=$(this).val()||$("#DateDeparture").hasClass("oneway")?"BrandSearch"==$(this).val()&&$("#DateDeparture").hasClass("oneway")&&($("#DateReturn").show(),$("#DateDeparture").removeClass("oneway")):($("#DateReturn").hide(),$("#DateDeparture").addClass("oneway"))}),$("#days").click(function(){var a=$(this).is(":checked")?"7":"3";$("#days-range").val(a)});